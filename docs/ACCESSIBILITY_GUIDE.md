# アクセシビリティ機能ガイド

このドキュメントは、ゲームのアクセシビリティ機能を利用したいユーザー向けのガイドです。

---

## 目次

1. [アクセシビリティ設定へのアクセス](#アクセシビリティ設定へのアクセス)
2. [スクリーンリーダー対応](#スクリーンリーダー対応)
3. [字幕/キャプション](#字幕キャプション)
4. [高コントラスト表示](#高コントラスト表示)
5. [色覚異常対応](#色覚異常対応)
6. [トラブルシューティング](#トラブルシューティング)

---

## アクセシビリティ設定へのアクセス

### 1. ゲームを開く

アプリを起動して、タイトル画面が表示されるまで待ちます。

### 2. 「SETTINGS」ボタンをタップ

タイトル画面の右下にある「SETTINGS」ボタンをタップします。

### 3. Accessibility Settings セクションを表示

SettingsScreen を下にスクロールして、「Accessibility Settings」セクションを探します。

### 4. 各設定を有効化/無効化

トグルボタンをタップして、必要な設定を有効化します。

---

## スクリーンリーダー対応

**対応デバイス**: Windows (NVDA, JAWS), macOS (VoiceOver), iOS (VoiceOver), Android (TalkBack)

### 有効化方法

1. Settings → Accessibility Settings
2. 「スクリーンリーダー対応」トグルを **ON** にします
3. ゲーム画面に戻ります

### スクリーンリーダーが読み上げる情報

#### HP表示
- **読み上げ**: 「Health Points, 75 out of 100 HP, SAFE」
- **タイミング**: HP変更時に自動アナウンス
- **目的**: 現在の HP 状態をリアルタイムで把握

#### ボスHP表示
- **読み上げ**: 「Boss Name Health Points, 150 out of 200 HP, HEALTHY」
- **タイミング**: ボス HP 変更時に自動アナウンス

#### 危険警告
- **読み上げ**: 「Alert: DANGER!」
- **タイミング**: HP が危険状態 (25% 以下) になった時
- **目的**: 即座に危険を認識

#### ボスメッセージ
- **読み上げ**: ボスが放つセリフなど
- **タイミング**: ボス行動時に自動読み上げ
- **例**: 「Boss: 念をコントロールしてみせろ！」

### 推奨事項

- **NVDA ユーザー**: フォーカスモード使用を推奨
- **JAWS ユーザー**: 標準モード推奨
- **VoiceOver ユーザー (iOS/macOS)**: VoiceOver ジェスチャー対応
- **TalkBack ユーザー (Android)**: 標準タップ・ジェスチャー対応

---

## 字幕/キャプション

**対応**: 聴覚障害者向け、音量が出せない環境での利用

### 有効化方法

1. Settings → Accessibility Settings
2. 「字幕/キャプション」トグルを **ON** にします
3. ボス戦闘を開始します

### キャプション表示内容

#### BossScreen（ボス戦闘中）

ボス戦闘中に発生するイベントが画面下部に表示されます：

| キャプション | 意味 | タイミング |
|-----------|------|---------|
| `[ダメージ音]` | プレイヤーが敵の攻撃を受けた | 敵が攻撃した時 |
| `25 ダメージ` | 受けたダメージ量 | ダメージと同時 |
| `[クリティカルヒット]` | 敵に大ダメージを与えた | クリティカル時 |
| `[敵の攻撃]` | 敵が攻撃を仕掛けてきた | 敵攻撃開始時 |
| `[回復]` | HP が回復した | 回復イベント時 |
| `12 回復` | 回復量 | 回復と同時 |
| `[コンボ達成]` | コンボが成立した | コンボ達成時 |

### 表示位置

キャプションは画面下部中央に表示されます：
```
[ボス戦闘画面]
       ▼
   [キャプション]
```

### 表示期間

- キャプションは該当イベント発生中のみ表示
- イベント終了と同時に消える
- 複数イベントは個別に表示

---

## 高コントラスト表示

**対応**: 弱視ユーザー、低コントラスト敏感性のある方、老眼の方

### 有効化方法

1. Settings → Accessibility Settings
2. 「高コントラスト表示」トグルを **ON** にします
3. 画面が即座に高コントラストモードに切り替わります

### 表示変更内容

#### 色の変更

| 要素 | 通常表示 | 高コントラスト |
|-----|---------|-------------|
| 背景 | グレー | 黒 (#000000) |
| テキスト | 白/グレー | 白 (#ffffff) |
| アクセント | ゴールド | 黄 (#ffff00) |
| 危険 | 赤 | 赤 (#ff0000) |
| 成功 | 緑 | 緑 (#00ff00) |
| 警告 | 黄/オレンジ | オレンジ (#ffaa00) |

#### 具体例

**HP表示**
- 通常: グレー背景 + ゴールドゲージ
- 高コントラスト: 黒背景 + 黄ゲージ

**危険警告**
- 通常: 淡い赤色
- 高コントラスト: 濃い赤色 + 黄文字

### 推奨環境

- 照度が低い場所での使用
- 画面が見づらい環境
- 大画面モニターでの使用

### 無効化方法

1. Settings → Accessibility Settings
2. 「高コントラスト表示」トグルを **OFF** にします

---

## 色覚異常対応

**対応**: 色覚異常がある方全て

### 対応する色覚異常タイプ

1. **Deuteranopia (赤緑色弱)**
   - 赤と緑の区別が難しい
   - このゲームではテキスト表示で補完

2. **Protanopia (赤緑色盲)**
   - 赤が見えない
   - 代わりに記号 (🟢/🟡/🔴) とテキストで表示

3. **Tritanopia (青黄色盲)**
   - 青と黄の区別が難しい
   - テキストラベルで補完

### デフォルト対応

**色覚異常対応は常に有効です**（ユーザー設定不要）

HP表示には常に以下が表示されます：

```
🟢 SAFE       (安全)
🟡 CAUTION    (注意)
🔴 CRITICAL   (危険)
```

### HPバーの読み方

| アイコン | 色 | テキスト | 意味 |
|---------|-----|---------|------|
| 🟢 | 緑 | SAFE | HP 充分 (>50%) |
| 🟡 | 黄 | CAUTION | HP 低下 (≤50%) |
| 🔴 | 赤 | CRITICAL | HP 危険 (≤25%) |

### 使用例

**敵 HP を確認する場合**:
1. ボス HP バーを確認
2. アイコンと テキストで状態を判別
3. テキストラベル「HEALTHY」「CAUTION」「DANGER」「CRITICAL」で正確に把握

---

## トラブルシューティング

### Q1: スクリーンリーダーが反応しない

**A**: 以下を確認してください：

1. **Accessibility Settings を確認**
   - Settings → Accessibility Settings
   - 「スクリーンリーダー対応」が **ON** になっているか

2. **OS 設定を確認**
   - iPhone/iPad: 設定 → アクセシビリティ → VoiceOver がON
   - Android: 設定 → ユーザー補助 → TalkBack がON
   - Windows: 設定 → ユーザー補助 → ナレーター がON
   - macOS: システム環境設定 → ユーザー補助 → VoiceOver がON

3. **ゲームを再起動**
   - ゲームを完全に閉じて再度開く

### Q2: 字幕が表示されない

**A**: 以下を確認してください：

1. **Accessibility Settings を確認**
   - Settings → Accessibility Settings
   - 「字幕/キャプション」が **ON** になっているか

2. **ボス戦闘実行**
   - 字幕は **BossScreen（ボス戦闘中）** でのみ表示
   - 通常のタイピングゲーム画面では表示されません

3. **イベント発生確認**
   - 敵の攻撃を受けるまで、キャプションは表示されません
   - ボス戦闘を進めてイベントが発生するまで待ちます

### Q3: 高コントラストが適用されていない

**A**: 以下を確認してください：

1. **トグル状態確認**
   - Settings → Accessibility Settings
   - 「高コントラスト表示」トグルが **ON**（青）になっているか

2. **ゲーム再起動**
   - トグルを OFF → ON に切り替え
   - またはゲームを完全に再起動

3. **キャッシュクリア**
   - ブラウザのキャッシュをクリア
   - アプリキャッシュをクリア（モバイル）

### Q4: 色覚異常対応が見にくい

**A**: 以下を試してください：

1. **高コントラストを有効化**
   - Settings → Accessibility Settings
   - 「高コントラスト表示」を **ON** にします
   - さらに見やすくなります

2. **表示サイズを大きく**
   - ブラウザのズーム機能で画面を拡大
   - PC: Ctrl+マウスホイール または Ctrl++
   - モバイル: 画面を2本指でピンチアウト

3. **照度を調整**
   - 画面の明るさを最大に
   - 周囲の照度を上げる

### Q5: 設定が保存されていない

**A**: 以下を確認してください：

1. **localStorage を確認**
   - ブラウザの Cookie/ストレージが有効か確認
   - PC: ブラウザの設定で「ローカルストレージを許可」が ON

2. **キャッシュをクリア**
   - ブラウザのキャッシュをクリア
   - 設定を再度行う

3. **アプリ再起動**
   - ゲームを完全に再起動して確認

### Q6: パフォーマンスが悪い

**A**: 以下を試してください：

1. **パーティクル品質を下げる**
   - Settings → Performance Settings
   - 「パーティクル品質」を「low」に変更

2. **アニメーション削減を有効化**
   - Settings → Performance Settings
   - 「アニメーション削減」を **ON** にします

3. **低性能モードの自動検出**
   - 低性能デバイスの場合、自動的にパフォーマンス最適化されます

---

## 推奨設定組み合わせ

### 視覚障害者向け
```
□ スクリーンリーダー対応: ON
□ 字幕/キャプション: ON
□ 高コントラスト表示: (任意)
```

### 色覚異常者向け
```
□ 高コントラスト表示: ON
□ 字幕/キャプション: ON
□ スクリーンリーダー対応: (任意)
```

### 聴覚障害者向け
```
□ 字幕/キャプション: ON
□ スクリーンリーダー対応: (任意)
□ 高コントラスト表示: (任意)
```

### 弱視者向け
```
□ 高コントラスト表示: ON
□ パーティクル品質: low (パフォーマンス向上)
□ 字幕/キャプション: ON
```

---

## フィードバック

アクセシビリティ機能に関するご意見やバグ報告は、以下にお願いします：

**GitHub Issues**: https://github.com/anthropics/claude-code/issues

フィードバック例：
- 「XX障害ですが、◇◇機能が使いづらい」
- 「◇◇機能を追加してほしい」
- 「◆◆が動作していない」

---

## 関連リソース

### アクセシビリティ標準

- **WCAG 2.1** (Web Content Accessibility Guidelines)
  - https://www.w3.org/WAI/WCAG21/quickref/

- **ARIA** (Accessible Rich Internet Applications)
  - https://www.w3.org/WAI/standards-guidelines/aria/

### スクリーンリーダー

- **NVDA** (Windows)
  - https://www.nvaccess.org/

- **JAWS** (Windows)
  - https://www.freedomscientific.com/products/software/jaws/

- **VoiceOver** (macOS, iOS)
  - Apple 内蔵

- **TalkBack** (Android)
  - Google 提供

---

**最終更新**: 2026-01-15
**版**: 1.0
**言語**: 日本語

このガイドが皆様のゲーム体験の向上に役立つことを願っています。🎮
